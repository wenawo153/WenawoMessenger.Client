@page "/chat"

<MudAppBar Elevation="1">
	<MudIconButton Class="onclick-white" Icon="@Icons.Material.Filled.ArrowBack" Color="Color.Inherit" Edge="Edge.Start" />
	<MudSpacer />
	<MudIconButton Class="onclick-white" Icon="@Icons.Material.Filled.Search" Color="Color.Inherit" Edge="Edge.End" />
</MudAppBar>
<div class="navbar-spacer" />

<div class="messeges-container">
	<div id="scroll" />
	@foreach (Messege messege in messeges)
	{
		@if (messege.UserId == myId)
		{
			<div class="messege-container">
				<div class="messege-text right-messege">
					@messege.Content adfasdfasd fasdfasdfassddfsdfsfasdfasdfsdfasfasfas
				</div>
			</div>
		}
		else
		{
			<div class="messege-container">
				@if (messege.UserId != priviousMessegeId || messege.Id == firstMessegeId)
				{
					<MudAvatar Class="messege-user-avatar">
						<MudImage Src="/static/images/user-image.png" />
					</MudAvatar>
					<div class="messege-text left-messege">
						@messege.Content sad sadsadsadsadsadsadsadsadsadsadsadsadsadsad
					</div>
				}
				else
				{
					<div class="messege-text left-messege avatar-spacer">
						@messege.Content sad sadsadsadsadsadsadsadsadsadsadsadsadsadsad
					</div>
				}
			</div>
		}
		priviousMessegeId = messege.UserId;
	}
</div>

<div class="write-container">
	<MudIconButton class="button" Icon="@Icons.Material.Filled.AttachFile" />
	<MudInput AutoFocus Class="input" Variant="Variant.Filled" T="string" Underline="false" Placeholder="Введите сообщение" />
	<MudIconButton Class="button" Icon="@Icons.Material.Filled.Send" />
</div>

<style>
	.write-container > .input {
		border-radius: 24px;
		padding: 0 !important;
		color: black !important;
		background-color: white !important;
		width: 90vw;
		height: 44px;
		margin-top: 6px
	}

	.write-container > .button {
		margin: 0 4px 0 4px;
		color: white !important
	}



	.mud-input > input.mud-input-root.mud-input-root-filled, div.mud-input-slot.mud-input-root.mud-input-root-filled {
		padding: 0 0 0 12px;
	}

	.messege-user-avatar {
		margin-left: 4px;
	}
</style>
